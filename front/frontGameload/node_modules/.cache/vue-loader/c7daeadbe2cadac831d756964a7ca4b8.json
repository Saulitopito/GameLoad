{"remainingRequest":"C:\\Users\\TRABAJO\\Documents\\Misión TIC 2022\\Aplicaciones Web\\Proyecto\\front\\frontGameload\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\TRABAJO\\Documents\\Misión TIC 2022\\Aplicaciones Web\\Proyecto\\front\\frontGameload\\src\\components\\Order.vue?vue&type=template&id=5121c764","dependencies":[{"path":"C:\\Users\\TRABAJO\\Documents\\Misión TIC 2022\\Aplicaciones Web\\Proyecto\\front\\frontGameload\\src\\components\\Order.vue","mtime":1630595949558},{"path":"C:\\Users\\TRABAJO\\Documents\\Misión TIC 2022\\Aplicaciones Web\\Proyecto\\front\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\TRABAJO\\Documents\\Misión TIC 2022\\Aplicaciones Web\\Proyecto\\front\\frontGameload\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\TRABAJO\\Documents\\Misión TIC 2022\\Aplicaciones Web\\Proyecto\\front\\frontGameload\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"C:\\Users\\TRABAJO\\Documents\\Misión TIC 2022\\Aplicaciones Web\\Proyecto\\front\\frontGameload\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\TRABAJO\\Documents\\Misión TIC 2022\\Aplicaciones Web\\Proyecto\\front\\frontGameload\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBpZD0iT3JkZXIiPgogICAgPHRhYmxlPgogICAgICA8dHI+CiAgICAgICAgPHRoPkZlY2hhPC90aD4KICAgICAgICA8dGg+Q29kaWdvIG9yZGVuPC90aD4KICAgICAgICA8dGg+UHJvZHVjdG88L3RoPgogICAgICAgIDx0aD5DYW50aWRhZDwvdGg+CiAgICAgICAgPHRoPlByZWNpbzwvdGg+CiAgICAgIDwvdHI+CgogICAgICA8dHIgdi1mb3I9Im9yZCBpbiBvcmRlbkJ5VXN1YXJpb0lkIiA6a2V5PSJvcmQucHJvZHVjdG9faWQiPgogICAgICAgIDx0ZD57eyBvcmQuZmVjaGFDb21wcmEuc3Vic3RyaW5nKDAsIDEwKX19PC90ZD4KICAgICAgICA8dGQ+e3sgb3JkLmNvZGlnb09yZGVufX08L3RkPgogICAgICAgIDx0ZD57eyBvcmQucHJvZHVjdG9Ob21icmV9fTwvdGQ+CiAgICAgICAgPHRkPnt7IG9yZC5wcm9kdWN0b0NhbnRpZGFkfX08L3RkPgogICAgICAgIDx0ZD4ke3sgb3JkLnByb2R1Y3RvUHJlY2lvIH19IENPUDwvdGQ+CiAgICAgIDwvdHI+CiAgICA8L3RhYmxlPgogICAgPGgyPlRvdGFsOiAkIHt7IHRvdGFsKCkgfX0gQ09QPC9oMj4KICAgIDxidXR0b24gY2xhc3M9ImNvbmZpcm0iIHYtb246Y2xpY2s9ImNvbmZpcm1PcmRlbihvcmRlbkJ5VXN1YXJpb0lkWzBdLmNvZGlnb09yZGVuKSI+Q29uZmlybWFyIG9yZGVuPC9idXR0b24+CiAgICA8YnI+CiAgICA8YnV0dG9uIGNsYXNzPSJjb25maXJtIiB2LW9uOmNsaWNrPSJlbGltaW5hck9yZGVuKG9yZGVuQnlVc3VhcmlvSWRbMF0uY29kaWdvT3JkZW4pIj5FbGltaW5hciBvcmRlbjwvYnV0dG9uPgogIDwvZGl2Pgo="},{"version":3,"sources":["C:\\Users\\TRABAJO\\Documents\\Misión TIC 2022\\Aplicaciones Web\\Proyecto\\front\\frontGameload\\src\\components\\Order.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC;;MAEJ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvC,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1G,CAAC,CAAC,CAAC;IACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5G,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/TRABAJO/Documents/Misión TIC 2022/Aplicaciones Web/Proyecto/front/frontGameload/src/components/Order.vue","sourceRoot":"","sourcesContent":["<template>\n  <div id=\"Order\">\n    <table>\n      <tr>\n        <th>Fecha</th>\n        <th>Codigo orden</th>\n        <th>Producto</th>\n        <th>Cantidad</th>\n        <th>Precio</th>\n      </tr>\n\n      <tr v-for=\"ord in ordenByUsuarioId\" :key=\"ord.producto_id\">\n        <td>{{ ord.fechaCompra.substring(0, 10)}}</td>\n        <td>{{ ord.codigoOrden}}</td>\n        <td>{{ ord.productoNombre}}</td>\n        <td>{{ ord.productoCantidad}}</td>\n        <td>${{ ord.productoPrecio }} COP</td>\n      </tr>\n    </table>\n    <h2>Total: $ {{ total() }} COP</h2>\n    <button class=\"confirm\" v-on:click=\"confirmOrden(ordenByUsuarioId[0].codigoOrden)\">Confirmar orden</button>\n    <br>\n    <button class=\"confirm\" v-on:click=\"eliminarOrden(ordenByUsuarioId[0].codigoOrden)\">Eliminar orden</button>\n  </div>\n</template>\n\n<script>\nimport gql from \"graphql-tag\";\n\nexport default {\n  name: \"Order\",\n\n  data: function () {\n    return {\n      usuarioId: localStorage.getItem(\"user_id\"),\n      confirmarOrdenUsuarioId: \"null\",\n      confirmarOrdenOrdenId: \"null\",\n      eliminarOrdenByCodigoOrdenUsuarioId: \"null\",\n      eliminarOrdenByCodigoOrdenCodigoOrden: \"null\",\n      ordenByUsuarioId: [],\n    };\n  },\n\n  created: function () {\n    this.username = this.$route.params.username;\n  },\n\n  apollo: {\n    ordenByUsuarioId: {\n      query: gql`\n        query Query($ordenByUsuarioIdUsuarioId: String!) {\n            ordenByUsuarioId(usuarioId: $ordenByUsuarioIdUsuarioId) {\n                orden_id\n                codigoOrden\n                usuarioId\n                fechaCompra\n                productoId\n                productoCantidad\n                productoPrecio\n                productoNombre\n                estado\n            }\n        }\n      `,\n      variables() {\n        return {\n          ordenByUsuarioIdUsuarioId: localStorage.getItem(\"user_id\").replace(/^(0+)/g, ''),\n        };\n      },\n    },\n  },\n\n  methods:{\n    total: function(){\n      let suma = 0;\n      this.ordenByUsuarioId.forEach((item) => {\n        suma += item.productoPrecio;\n      });\n      return suma;\n    },\n\n    confirmOrden: async function(codigoOrden){\n      await this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation confirmarOrdenByCodigoOrdenMutation($confirmarOrdenUsuarioId: String!, $confirmarOrdenOrdenId: String!) {\n              confirmarOrdenByCodigoOrden(usuarioId: $confirmarOrdenUsuarioId, codigoOrden: $confirmarOrdenOrdenId)\n            }\n          `,  \n          variables:{\n            confirmarOrdenUsuarioId: localStorage.getItem(\"user_id\").replace(/^(0+)/g, ''),\n            confirmarOrdenOrdenId: codigoOrden,\n          },\n        })\n        .then((result) => {\n          alert(\"Orden confirmada\")\n        })\n        .catch((error) => {\n            alert(\"Error\");\n        });\n    },\n\n    eliminarOrden: async function(codigoOrden) {\n      await this.$apollo\n        .mutate({\n          mutation: gql`\n            mutation ($eliminarOrdenByCodigoOrdenUsuarioId: String!, $eliminarOrdenByCodigoOrdenCodigoOrden: String!) {\n              eliminarOrdenByCodigoOrden(usuarioId: $eliminarOrdenByCodigoOrdenUsuarioId, codigoOrden: $eliminarOrdenByCodigoOrdenCodigoOrden) \n            }\n          `,  \n        variables:{\n          eliminarOrdenByCodigoOrdenUsuarioId: localStorage.getItem(\"user_id\").replace(/^(0+)/g, ''),\n          eliminarOrdenByCodigoOrdenCodigoOrden: codigoOrden,\n        },\n        })\n        .then((result) => {\n          alert(\"Orden elimanada\")\n        })\n        .catch((error) => {\n            alert(\"Error\");\n        });\n    },\n  },\n};\n\n</script>\n\n\n<style>\n#Order {\n  width: 100%;\n  height: 120%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n\n#Order table {\n  width: 50%;\n  border-collapse: collapse;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  border-radius: 20px;\n}\n\n#Order table td,\n#Order table th {\n  border: 1px solid #ddd;\n  padding: 8px;\n}\n\n#Order table tr:nth-child(even) {\n  background-color: #f2f2f2;\n}\n\n#Order table tr:hover {\n  background-color: #ddd;\n}\n\n#Order table th {\n  padding-top: 12px;\n  padding-bottom: 12px;\n  text-align: left;\n  background-color: crimson;\n  color: white;\n}\n</style>"]}]}